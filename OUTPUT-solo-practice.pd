#N canvas 142 525 367 262 10;
#X declare -path ./lib;
#X declare -path ./src;
#N canvas 618 494 527 395 control-panel 0;
#N canvas 682 501 686 380 init 0;
#X obj 31 24 loadbang;
#X obj 224 33 r lb4;
#X obj 85 278 declare -path ./lib;
#X obj 85 298 declare -path ./src;
#X obj 464 33 r lb1;
#X msg 464 62 \; masterBlockSize 2048 \;;
#X obj 464 143 r lb1;
#X msg 464 172 read -c ./data/midiNoteNames.txt;
#X obj 464 193 text define midiNoteNames;
#X obj 163 105 s lb1;
#X obj 137 136 s lb2;
#X obj 105 165 s lb3;
#X obj 71 195 s lb4;
#X obj 31 56 t b b b b b;
#X obj 31 225 s lb5;
#X obj 224 153 r lb5;
#X obj 224 174 delay 2000;
#X text 286 269 Override spat width/pos settings that load on lb4 in
control-panel-abs so that they're suitable for stereo. For some reason
\, this needs to be delayed at least 2sec for it to actually take effect.
Not sure why and it doesn't matter much for this so I'll leave it as
a hack.;
#X msg 224 196 \; player-0-spat-width-set 0.75 \; player-0-spat-pos-set
0 \; player-1-spat-width-set 0.75 \; player-1-spat-pos-set 1 \;;
#X msg 224 76 \; pd dsp 1 \; master-volume-set 90 \; master-output-stereo-mode
1 \;;
#X connect 0 0 13 0;
#X connect 1 0 19 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 13 0 14 0;
#X connect 13 1 12 0;
#X connect 13 2 11 0;
#X connect 13 3 10 0;
#X connect 13 4 9 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X restore 323 72 pd init;
#N canvas 611 146 371 176 players 0;
#X obj 32 28 algo-player 0;
#X obj 32 48 algo-player 1;
#X obj 202 28 clone spat-LFO-abs 2;
#X obj 202 68 spat-abs-2 player-0;
#X obj 202 88 spat-abs-2 player-1;
#X restore 323 92 pd players;
#X obj 20 40 hsl 250 40 40 100 0 0 master-volume master-volume-set
master-volume 8 24 0 24 -262144 -1 -1 20750 1;
#X obj 107 100 bng 15 250 50 0 reset-all-player-clocks empty reset-clocks
17 7 0 12 -262144 -1 -1;
#X obj 172 160 cpumeter;
#N canvas 294 309 528 194 netreceive 0;
#X text 70 91 This is not used for the solo patch \, but leaving the
[receive] above to avoid errors;
#X obj 72 40 r netsend-data-hub;
#X restore 323 112 pd netreceive;
#N canvas 818 150 516 629 output 0;
#X obj 58 141 *~;
#X obj 338 157 dbtorms;
#X obj 338 186 pack f 40;
#X obj 338 215 line~;
#X obj 118 141 *~;
#X obj 338 55 moses 41;
#X obj 338 86 t b;
#X msg 338 117 0;
#X obj 338 25 r master-volume;
#X obj 58 16 catch~ out-1;
#X obj 71 421 vu 15 80 empty empty -1 -8 0 10 -66577 -1 0 0;
#X obj 101 421 vu 15 80 empty empty -1 -8 0 10 -66577 -1 0 0;
#X obj 220 327 env~;
#X obj 220 356 - 100;
#X obj 360 327 env~;
#X obj 360 356 - 100;
#X obj 198 16 catch~ out-2;
#N canvas 834 72 606 533 compressor 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-dynamic-curve 102 float 3;
#A 0 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69
70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92
93 94 95 95.95 96.8 97.55 98.2 98.75 99.2;
#X coords 0 100 102 0 202 200 1 0 0;
#X restore 289 32 graph;
#N canvas 194 61 600 997 parameters 0;
#X obj 366 32 inlet;
#X obj 487 83 s \$0-speed;
#X obj 366 222 s \$0-limit;
#X obj 392 198 s \$0-knee;
#X obj 415 174 s \$0-boost;
#X obj 439 147 s \$0-ratio;
#X obj 366 57 unpack 0 0 0 0 0 0;
#X obj 462 116 s \$0-thresh;
#X obj 50 91 r \$0-limit;
#X obj 61 116 r \$0-knee;
#X obj 70 143 r \$0-boost;
#X obj 96 196 r \$0-thresh;
#X obj 82 167 r \$0-ratio;
#X obj 50 224 b;
#X obj 50 249 del 0;
#X obj 50 274 t b b;
#X obj 50 324 until;
#X obj 50 349 f;
#X obj 87 351 + 1;
#X msg 99 325 0;
#X obj 50 374 t f f;
#X obj 24 870 tabwrite \$0-dynamic-curve;
#X obj 193 708 moses;
#X obj 240 706 r \$0-thresh;
#X obj 407 554 r \$0-ratio;
#X obj 407 579 f;
#X obj 407 604 / 100;
#X obj 18 808 +;
#X msg 225 734 0;
#X obj 193 765 expr ($f1-$f2)*$f3;
#X obj 18 833 max 0;
#X obj 407 629 - 1;
#X obj 48 404 +;
#X obj 218 361 r \$0-boost;
#X obj 193 452 r \$0-limit;
#X obj 151 455 f;
#X obj 151 480 -;
#X obj 48 429 t f b;
#X obj 327 428 r \$0-knee;
#X obj 188 535 +;
#X obj 144 535 -;
#X obj 23 569 moses;
#X obj 71 569 moses;
#X obj 102 601 b;
#X obj 195 611 r \$0-limit;
#X obj 102 626 f;
#X obj 302 829 expr $f4 - ($f2-$f1)*($f2-$f1)/(4*$f3);
#X obj 23 594 +;
#X msg 50 299 102;
#X obj 327 453 f;
#X obj 327 478 / 2;
#X connect 0 0 6 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 6 4 7 0;
#X connect 6 5 1 0;
#X connect 8 0 13 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 48 0;
#X connect 15 1 19 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 0 20 0;
#X connect 18 0 17 1;
#X connect 19 0 17 1;
#X connect 20 0 32 0;
#X connect 20 1 21 1;
#X connect 20 1 22 0;
#X connect 22 0 29 0;
#X connect 22 1 28 0;
#X connect 23 0 22 1;
#X connect 23 0 29 1;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 31 0;
#X connect 27 0 30 0;
#X connect 28 0 27 1;
#X connect 29 0 27 1;
#X connect 30 0 21 0;
#X connect 31 0 29 2;
#X connect 32 0 37 0;
#X connect 33 0 32 1;
#X connect 33 0 36 1;
#X connect 33 0 47 1;
#X connect 34 0 35 1;
#X connect 35 0 36 0;
#X connect 36 0 39 0;
#X connect 36 0 40 0;
#X connect 37 0 41 0;
#X connect 37 1 35 0;
#X connect 38 0 49 0;
#X connect 39 0 42 1;
#X connect 39 0 46 1;
#X connect 40 0 41 1;
#X connect 41 0 47 0;
#X connect 41 1 42 0;
#X connect 42 0 46 0;
#X connect 42 1 43 0;
#X connect 43 0 45 0;
#X connect 44 0 45 1;
#X connect 44 0 46 3;
#X connect 45 0 27 0;
#X connect 46 0 27 0;
#X connect 47 0 27 0;
#X connect 48 0 16 0;
#X connect 49 0 50 0;
#X connect 50 0 40 1;
#X connect 50 0 39 1;
#X connect 50 0 46 2;
#X restore 303 432 pd parameters;
#X obj 303 362 loadbang;
#X msg 303 389 100 10 0 100 0 50;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 71 311 pd compressor;
#N canvas 354 210 617 518 run-compander 0;
#X obj 47 56 inlet~;
#X obj 83 134 slop~ 0 0 0 0 1e+09;
#X obj 160 32 r \$0-speed;
#X obj 160 57 f;
#X obj 160 82 / 10;
#X obj 83 98 abs~;
#X obj 111 252 tabread4~ \$0-dynamic-curve;
#X obj 80 294 -~;
#X obj 80 319 +~ 100;
#X obj 80 344 dbtorms~;
#X obj 81 222 rmstodb~;
#X obj 45 384 *~;
#X obj 45 409 outlet~;
#X text 145 288 "correct" the level by applying a gain calculated from
the difference between the measured and desired level, f 27;
#X connect 0 0 5 0;
#X connect 0 0 11 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 3;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 10 0 7 1;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X restore 58 51 pd run-compander;
#N canvas 354 210 617 518 run-compander 0;
#X obj 47 56 inlet~;
#X obj 83 134 slop~ 0 0 0 0 1e+09;
#X obj 160 32 r \$0-speed;
#X obj 160 57 f;
#X obj 160 82 / 10;
#X obj 83 98 abs~;
#X obj 111 252 tabread4~ \$0-dynamic-curve;
#X obj 80 294 -~;
#X obj 80 319 +~ 100;
#X obj 80 344 dbtorms~;
#X obj 81 222 rmstodb~;
#X obj 45 384 *~;
#X obj 45 409 outlet~;
#X text 145 288 "correct" the level by applying a gain calculated from
the difference between the measured and desired level, f 27;
#X connect 0 0 5 0;
#X connect 0 0 11 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 3;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 10 0 7 1;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X restore 198 81 pd run-compander;
#X obj 58 210 dac~ 1 2;
#X connect 0 0 20 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 3 0 4 1;
#X connect 4 0 20 1;
#X connect 5 0 6 0;
#X connect 5 1 1 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 5 0;
#X connect 9 0 18 0;
#X connect 12 0 13 0;
#X connect 13 0 10 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 16 0 19 0;
#X connect 18 0 12 0;
#X connect 18 0 0 0;
#X connect 19 0 4 0;
#X connect 19 0 14 0;
#X coords 0 -1 1 1 70 110 1 60 400;
#X restore 17 90 pd output;
#N canvas 364 130 492 440 interface 0;
#X obj 87 374 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 87 394 s all-player-print;
#X obj 41 146 t f b;
#X obj 41 175 until;
#X obj 41 244 f;
#X obj 98 250 + 1;
#X msg 74 209 0;
#X msg 41 283 \; player-\$1-set-time-index 0 \;;
#X obj 261 146 t f b;
#X obj 261 175 until;
#X obj 261 244 f;
#X obj 318 250 + 1;
#X msg 294 209 0;
#X msg 261 283 \; player-\$1-get-time-index bang \;;
#X obj 261 86 r get-all-player-times;
#X obj 41 86 r reset-all-player-clocks;
#X msg 261 117 2;
#X msg 41 117 2;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 8 0 9 0;
#X connect 8 1 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 14 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 8 0;
#X connect 17 0 2 0;
#X restore 323 152 pd interface;
#N canvas 667 274 580 374 client-init 0;
#X obj 71 34 r lb1;
#X msg 71 58 \; netprep-init bang \;;
#X text 37 124 This initializes all of the netprep parameter names
to have -set appended, f 27;
#N canvas 212 320 783 400 fadermap-player-A-and-B 0;
#X obj 28 136 / 127;
#X obj 156 151 * 127;
#X obj 28 96 t f b;
#X obj 28 242 t b f;
#X msg 216 160 0;
#X msg 248 161 1;
#X obj 156 190 spigot 1;
#X obj 28 40 ctlin 102;
#X obj 28 198 + 40;
#X obj 28 167 * 60;
#X obj 156 90 - 40;
#X obj 156 121 / 60;
#X obj 156 214 ctlout 102;
#X obj 438 136 / 127;
#X obj 566 151 * 127;
#X obj 438 96 t f b;
#X obj 438 242 t b f;
#X msg 626 160 0;
#X msg 658 161 1;
#X obj 566 190 spigot 1;
#X obj 438 198 + 40;
#X obj 438 167 * 60;
#X obj 566 90 - 40;
#X obj 566 121 / 60;
#X obj 438 40 ctlin 103;
#X obj 566 214 ctlout 103;
#X obj 483 295 s player-1-gain-set;
#X obj 566 59 r player-1-gain;
#X obj 156 59 r player-0-gain;
#X obj 73 295 s player-0-gain-set;
#X connect 0 0 9 0;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 2 1 4 0;
#X connect 3 0 5 0;
#X connect 3 1 29 0;
#X connect 4 0 6 1;
#X connect 5 0 6 1;
#X connect 6 0 12 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 1 0;
#X connect 13 0 21 0;
#X connect 14 0 19 0;
#X connect 15 0 13 0;
#X connect 15 1 17 0;
#X connect 16 0 18 0;
#X connect 16 1 26 0;
#X connect 17 0 19 1;
#X connect 18 0 19 1;
#X connect 19 0 25 0;
#X connect 20 0 16 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 14 0;
#X connect 24 0 15 0;
#X connect 27 0 22 0;
#X connect 28 0 10 0;
#X restore 66 206 pd fadermap-player-A-and-B;
#N canvas 1238 206 557 364 muting 0;
#X obj 28 218 f;
#X obj 106 209 + 1;
#X obj 106 230 % 2;
#X obj 28 127 t b b;
#X msg 159 153 0;
#X msg 199 153 1;
#X obj 106 180 spigot 1;
#X obj 28 260 t b f;
#X obj 28 83 select 127;
#X obj 28 41 ctlin 11;
#X obj 308 218 f;
#X obj 386 209 + 1;
#X obj 386 230 % 2;
#X obj 308 127 t b b;
#X msg 439 153 0;
#X msg 479 153 1;
#X obj 386 180 spigot 1;
#X obj 308 260 t b f;
#X obj 308 83 select 127;
#X obj 308 41 ctlin 14;
#X obj 73 290 s player-0-mute-set;
#X obj 106 119 r player-0-mute;
#X obj 353 290 s player-1-mute-set;
#X obj 386 119 r player-1-mute;
#X connect 0 0 1 0;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 3 1 4 0;
#X connect 4 0 6 1;
#X connect 5 0 6 1;
#X connect 6 0 1 0;
#X connect 7 0 5 0;
#X connect 7 1 20 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 13 0 10 0;
#X connect 13 1 14 0;
#X connect 14 0 16 1;
#X connect 15 0 16 1;
#X connect 16 0 11 0;
#X connect 17 0 15 0;
#X connect 17 1 22 0;
#X connect 18 0 13 0;
#X connect 19 0 18 0;
#X connect 21 0 6 0;
#X connect 23 0 16 0;
#X restore 66 236 pd muting;
#X text 159 235 Map gain faders and muting globally (outside of abstractions)
so that 102/103 will always be accessible on controller as player A/B
gains and mutes, f 33;
#X obj 288 54 r lb1;
#X obj 288 197 s num-algos;
#X obj 288 75 t b b;
#X msg 329 108 read -c ./data/outputAlgorithms.txt;
#X obj 288 166 text size outputAlgorithms;
#X obj 329 129 text define outputAlgorithms;
#X connect 0 0 1 0;
#X connect 6 0 8 0;
#X connect 8 0 10 0;
#X connect 8 1 9 0;
#X connect 9 0 11 0;
#X connect 10 0 7 0;
#X restore 323 52 pd client-init;
#N canvas 140 461 760 440 client-side-netreceive 0;
#X obj 121 23 r client-netsend-data-hub;
#X obj 121 160 list split 4;
#X obj 249 280 s;
#X obj 215 200 list split 1;
#X obj 249 246 list trim;
#X obj 249 225 list split 1;
#X obj 119 205 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 78 239 spigot;
#X obj 78 260 print;
#X text 207 361 send 2.34983e+08 player-0-current-time-index;
#X text 207 381 send 5 player-0-params-per-algo;
#X text 187 331 This processes commands that have fewer than 4 elements
in the list \, e.g.:;
#X text 317 29 This subpatch is necessary to imitate the master-client
data sending that exists for the main patch. That way \, only this
OUTPUT-solo-practice.pd patch needs to be edited \, and the core abstractions
for the main project can be used as-is. Particularly \, we need to
send:;
#X text 337 139 the player-0-current-time-index value for storage in
algo-param-interface-client.pd;
#X text 337 99 the params per algo data from [OUTPUT~] to the algo-param-interface-client.pd
abstraction.;
#X connect 0 0 1 0;
#X connect 1 2 3 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 5 1 2 1;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X restore 323 132 pd client-side-netreceive;
#X obj 107 150 bng 20 250 50 0 empty empty A 6 10 0 14 -204786 -1 -1
;
#X obj 107 180 bng 20 250 50 0 empty empty B 6 10 0 14 -204786 -1 -1
;
#X obj 108 327 clone -s 0 client-control-interface 2;
#X msg 108 287 vis 0 1;
#X msg 188 287 vis 1 1;
#X connect 10 0 13 0;
#X connect 11 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 12 0;
#X coords 0 -1 1 1 270 200 1 10 10;
#X restore 45 41 pd control-panel;
#X coords 0 262 1 261 1100 600 0;
