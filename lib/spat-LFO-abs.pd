#N canvas 412 288 1384 653 12;
#X obj 95 521 *~;
#X msg 702 422 1 0;
#X obj 315 521 *~;
#X obj 315 177 phasor~;
#X msg 868 52 0 1;
#X obj 702 476 unpack f f;
#X obj 315 141 line~;
#X obj 396 177 spigot;
#X msg 802 166 0;
#X obj 370 432 snapshot~;
#X obj 599 98 t f b;
#X obj 702 322 t b b b b;
#X obj 95 427 line~;
#X obj 95 352 pack f 50;
#X obj 315 27 pack f 50;
#X obj 702 218 timer;
#X obj 702 242 > 1000;
#X obj 817 278 metro 100;
#X obj 702 266 change;
#X obj 702 290 select 1;
#X msg 817 248 0;
#X msg 857 248 1;
#X obj 670 173 t b b;
#X obj 670 54 abs;
#X obj 599 45 t f f;
#X obj 599 69 spigot;
#X obj 670 145 select 0;
#X text 984 336 If LFO freq remains near zero (within an abs thresh
of 0.1) for a full second \, we switch from the LFO behavior to static
pan position as dictated by the GUI slider. Note that when transitioning
from LFO to static \, we set the LFO frequency to 0Hz first \, then
poll the LFO signal in order to: 1) instantly set the static spat position
[line~] to the final resting position of the LFO \, and 2) send a network
command to the client to update the spat position GUI slider on their
end., f 45;
#X text 1052 41 We could insist on a frequency of *exactly* zero too
\, but that can be finicky and requires a range and offset of -3.2
and 6.35 in order for a zero to even be possible. This strategy is
less touchy and lets us use any offset and range desired., f 33;
#X obj 702 530 s \$0-static-gain;
#X obj 125 521 r \$0-static-gain;
#X obj 782 500 s \$0-lfo-gain;
#X obj 345 521 r \$0-lfo-gain;
#X obj 814 359 s \$0-lfo-freeze;
#X obj 350 74 r \$0-lfo-freeze;
#X msg 350 98 0;
#X obj 118 392 r \$0-static-pos-jump;
#X obj 455 177 r \$0-lfo-phase-spigot;
#X obj 802 201 s \$0-lfo-phase-spigot;
#X obj 771 446 s \$0-lfo-phase-spigot;
#X msg 771 421 1;
#X obj 868 83 unpack f f;
#X obj 868 137 s \$0-static-gain;
#X obj 948 107 s \$0-lfo-gain;
#X obj 791 391 s \$0-lfo-snap;
#X obj 393 399 r \$0-lfo-snap;
#X text 58 52 \$1: player ID \;;
#X obj 599 21 r player-\$1-spat-lfo-freq;
#X obj 95 278 r player-\$1-spat-pos;
#X obj 210 583 s~ player-\$1-spat-pos-sig;
#X obj 396 128 r player-\$1-spat-pos;
#N canvas 1022 281 360 237 stereo 0;
#X obj 115 29 r master-output-stereo-mode;
#X obj 115 50 select 1 0;
#X msg 115 74 0.5;
#X msg 155 74 1;
#X obj 25 188 outlet;
#X text 88 121 halve the spat-pos value if in stereo mode \, since
0 - 0.5 represents hard L and R, f 32;
#X obj 25 30 inlet;
#X obj 25 114 * 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 7 1;
#X connect 3 0 7 1;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X restore 396 152 pd stereo;
#N canvas 860 142 775 502 stereo-or-not 0;
#X obj 76 406 s client-netsend-data-hub;
#X obj 76 304 t f f;
#X obj 193 304 s \$0-static-pos-jump;
#X obj 76 354 pack f \$1;
#X obj 430 110 t f f;
#X obj 76 258 spigot;
#X obj 430 215 spigot;
#X obj 490 215 r master-output-stereo-mode;
#X obj 149 234 swap 1;
#X obj 149 258 -;
#X obj 467 136 t b f;
#X msg 467 160 1;
#X obj 467 184 -;
#X obj 430 143 min;
#X msg 76 382 send set \$1 player-\$2-spat-pos-set;
#X obj 76 38 inlet;
#X obj 430 409 s client-netsend-data-hub;
#X obj 430 277 t f f;
#X obj 547 277 s \$0-static-pos-jump;
#X obj 430 357 pack f \$1;
#X msg 430 385 send set \$1 player-\$2-spat-pos-set;
#X obj 149 208 r master-output-stereo-mode;
#X obj 430 301 * 2;
#X text 524 312 if stereo \, set the client's GUI to double the value
of the reflected spat LFO signal, f 29;
#X text 418 63 reflect the spat LFO signal at 0.5;
#X text 499 240 the "jump" is prior to the [line] command \, and skips
the halving, f 34;
#X text 73 438 only "set" the client GUI control. the spat-pos value
is already transmitted to the [line~] object controlling the spat-pos-sig.
this means that the master spat-pos slider won't be updated \, but
that's only informational., f 85;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 3 0 14 0;
#X connect 4 0 13 0;
#X connect 4 1 10 0;
#X connect 5 0 1 0;
#X connect 6 0 17 0;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 5 1;
#X connect 10 0 11 0;
#X connect 10 1 12 1;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 0 0;
#X connect 15 0 4 0;
#X connect 15 0 5 0;
#X connect 17 0 22 0;
#X connect 17 1 18 0;
#X connect 19 0 20 0;
#X connect 20 0 16 0;
#X connect 21 0 8 0;
#X connect 22 0 19 0;
#X restore 370 477 pd stereo-or-not;
#N canvas 336 563 360 237 stereo 0;
#X obj 115 29 r master-output-stereo-mode;
#X obj 115 50 select 1 0;
#X msg 115 74 0.5;
#X msg 155 74 1;
#X obj 25 188 outlet;
#X text 88 121 halve the spat-pos value if in stereo mode \, since
0 - 0.5 represents hard L and R, f 32;
#X obj 25 30 inlet;
#X obj 25 114 * 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 7 1;
#X connect 3 0 7 1;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X restore 95 312 pd stereo;
#X obj 414 341 swap 1;
#X obj 414 365 -;
#X obj 379 290 *~;
#X obj 315 394 +~;
#X obj 315 201 *~;
#N canvas 830 89 371 466 lfo-noise 0;
#X obj 37 415 outlet~;
#X obj 37 159 random 1000;
#X obj 37 183 / 1000;
#X obj 273 80 inlet;
#X obj 273 154 t b f;
#X obj 273 202 /;
#X msg 273 178 1000;
#X obj 37 67 metro 100;
#X obj 37 207 pack f 50;
#X obj 37 371 line~;
#X obj 273 114 abs;
#X obj 37 7 r \$0-lfo-active;
#X obj 57 245 r \$0-lfo-active;
#X obj 57 269 select 0;
#X msg 57 302 stop;
#X obj 128 311 r \$0-static-pos-jump;
#X obj 273 250 max 40;
#X obj 273 226 * 0.5;
#X msg 134 106 seed \$1;
#X obj 134 58 r lb1;
#X obj 134 82 timer;
#X obj 37 32 t f b;
#X obj 184 82 one-bang 1;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 4 1 5 1;
#X connect 5 0 7 1;
#X connect 5 0 17 0;
#X connect 6 0 5 0;
#X connect 7 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X connect 10 0 4 0;
#X connect 11 0 21 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 9 0;
#X connect 15 0 9 0;
#X connect 16 0 8 1;
#X connect 17 0 16 0;
#X connect 18 0 1 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 7 0;
#X connect 21 1 22 0;
#X connect 22 0 20 1;
#X restore 379 250 pd lfo-noise;
#X obj 670 78 >= 0.01;
#X obj 1000 220 s \$0-lfo-active;
#X obj 670 102 t f b;
#X msg 1000 194 1;
#X msg 1040 194 0;
#X obj 127 121 r \$0-static-pos-jump;
#X obj 414 277 r player-\$1-spat-lfo-type;
#X obj 414 302 t f b;
#X obj 482 338 s \$0-lfo-snap;
#X connect 0 0 49 0;
#X connect 1 0 5 0;
#X connect 2 0 49 0;
#X connect 3 0 58 0;
#X connect 4 0 41 0;
#X connect 5 0 29 0;
#X connect 5 1 31 0;
#X connect 6 0 3 0;
#X connect 7 0 3 1;
#X connect 8 0 38 0;
#X connect 9 0 52 0;
#X connect 10 0 14 0;
#X connect 10 0 59 0;
#X connect 10 1 4 0;
#X connect 10 1 8 0;
#X connect 10 1 20 0;
#X connect 11 0 1 0;
#X connect 11 1 40 0;
#X connect 11 2 44 0;
#X connect 11 3 20 0;
#X connect 11 3 33 0;
#X connect 11 3 64 0;
#X connect 12 0 0 0;
#X connect 13 0 12 0;
#X connect 14 0 6 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 17 0 15 1;
#X connect 18 0 19 0;
#X connect 19 0 11 0;
#X connect 20 0 17 0;
#X connect 21 0 17 0;
#X connect 22 0 21 0;
#X connect 22 1 15 0;
#X connect 23 0 60 0;
#X connect 24 0 25 0;
#X connect 24 1 23 0;
#X connect 25 0 10 0;
#X connect 26 0 22 0;
#X connect 30 0 0 1;
#X connect 32 0 2 1;
#X connect 34 0 35 0;
#X connect 35 0 6 0;
#X connect 36 0 12 0;
#X connect 37 0 7 1;
#X connect 40 0 39 0;
#X connect 41 0 42 0;
#X connect 41 1 43 0;
#X connect 45 0 9 0;
#X connect 47 0 24 0;
#X connect 48 0 53 0;
#X connect 50 0 51 0;
#X connect 51 0 7 0;
#X connect 53 0 13 0;
#X connect 54 0 55 0;
#X connect 54 1 55 1;
#X connect 55 0 58 1;
#X connect 56 0 57 1;
#X connect 57 0 2 0;
#X connect 57 0 9 0;
#X connect 58 0 57 0;
#X connect 59 0 56 0;
#X connect 60 0 62 0;
#X connect 62 0 26 0;
#X connect 62 0 25 1;
#X connect 62 1 63 0;
#X connect 63 0 61 0;
#X connect 64 0 61 0;
#X connect 65 0 3 1;
#X connect 66 0 67 0;
#X connect 67 0 54 0;
#X connect 67 0 56 1;
#X connect 67 1 68 0;
