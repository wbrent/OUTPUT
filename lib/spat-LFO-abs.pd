#N canvas 174 248 1384 653 12;
#X obj 95 268 r player-\$1-spat-pos;
#X obj 210 583 s~ player-\$1-spat-pos-sig;
#X obj 95 481 *~;
#X obj 599 21 r player-\$1-spat-lfo-freq;
#X msg 702 422 1 0;
#X obj 315 481 *~;
#X obj 315 177 phasor~;
#X msg 848 52 0 1;
#X obj 702 476 unpack f f;
#X obj 315 141 line~;
#X obj 396 177 spigot;
#X msg 800 137 0;
#X obj 370 272 snapshot~;
#X obj 599 98 t f b;
#X obj 702 322 t b b b b;
#X obj 370 408 s client-netsend-data-hub;
#X obj 396 148 r player-\$1-spat-pos;
#X obj 370 356 pack f \$1;
#X msg 370 384 send \$1 player-\$2-spat-pos-set;
#X obj 95 407 line~;
#X obj 95 292 pack f 50;
#X obj 315 27 pack f 50;
#X obj 702 218 timer;
#X obj 702 242 > 1000;
#X obj 817 278 metro 100;
#X obj 702 266 change;
#X obj 702 290 select 1;
#X msg 817 248 0;
#X msg 857 248 1;
#X obj 670 173 t b b;
#X obj 370 296 t f f;
#X obj 670 54 abs;
#X obj 599 45 t f f;
#X obj 599 69 spigot;
#X obj 670 145 select 0;
#X text 984 336 If LFO freq remains near zero (within an abs thresh
of 0.1) for a full second \, we switch from the LFO behavior to static
pan position as dictated by the GUI slider. Note that when transitioning
from LFO to static \, we set the LFO frequency to 0Hz first \, then
poll the LFO signal in order to: 1) instantly set the static spat position
[line~] to the final resting position of the LFO \, and 2) send a network
command to the client to update the spat position GUI slider on their
end., f 45;
#X text 1052 41 We could insist on a frequency of *exactly* zero too
\, but that can be finicky and requires a range and offset of -3.2
and 6.35 in order for a zero to even be possible. This strategy is
less touchy and lets us use any offset and range desired., f 33;
#X obj 702 530 s \$0-static-gain;
#X obj 125 481 r \$0-static-gain;
#X obj 782 500 s \$0-lfo-gain;
#X obj 345 481 r \$0-lfo-gain;
#X obj 814 359 s \$0-lfo-freeze;
#X obj 350 74 r \$0-lfo-freeze;
#X msg 350 98 0;
#X obj 417 332 s \$0-static-pos-jump;
#X obj 118 352 r \$0-static-pos-jump;
#X obj 455 177 r \$0-lfo-phase-spigot;
#X obj 800 172 s \$0-lfo-phase-spigot;
#X obj 771 446 s \$0-lfo-phase-spigot;
#X msg 771 421 1;
#X obj 848 83 unpack f f;
#X obj 848 137 s \$0-static-gain;
#X obj 928 107 s \$0-lfo-gain;
#X obj 791 391 s \$0-lfo-snap;
#X obj 393 239 r \$0-lfo-snap;
#X obj 670 78 >= 0.005;
#X connect 0 0 20 0;
#X connect 2 0 1 0;
#X connect 3 0 32 0;
#X connect 4 0 8 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 6 0 12 0;
#X connect 7 0 50 0;
#X connect 8 0 37 0;
#X connect 8 1 39 0;
#X connect 9 0 6 0;
#X connect 10 0 6 1;
#X connect 11 0 47 0;
#X connect 12 0 30 0;
#X connect 13 0 21 0;
#X connect 13 1 7 0;
#X connect 13 1 11 0;
#X connect 13 1 27 0;
#X connect 14 0 4 0;
#X connect 14 1 49 0;
#X connect 14 2 53 0;
#X connect 14 3 27 0;
#X connect 14 3 41 0;
#X connect 16 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 19 0 2 0;
#X connect 20 0 19 0;
#X connect 21 0 9 0;
#X connect 22 0 23 0;
#X connect 23 0 25 0;
#X connect 24 0 22 1;
#X connect 25 0 26 0;
#X connect 26 0 14 0;
#X connect 27 0 24 0;
#X connect 28 0 24 0;
#X connect 29 0 28 0;
#X connect 29 1 22 0;
#X connect 30 0 17 0;
#X connect 30 1 44 0;
#X connect 31 0 55 0;
#X connect 32 0 33 0;
#X connect 32 1 31 0;
#X connect 33 0 13 0;
#X connect 34 0 29 0;
#X connect 38 0 2 1;
#X connect 40 0 5 1;
#X connect 42 0 43 0;
#X connect 43 0 9 0;
#X connect 45 0 19 0;
#X connect 46 0 10 1;
#X connect 49 0 48 0;
#X connect 50 0 51 0;
#X connect 50 1 52 0;
#X connect 54 0 12 0;
#X connect 55 0 33 1;
#X connect 55 0 34 0;
